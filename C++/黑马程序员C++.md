<center style="font-family: 华文新魏"><font size="12px" color="#4870ac">黑马程序员 C++</font></center>

# C++基础入门

## 第1章 C++初识



### 1.1 第一个C++程序

- 编写一个C++程序总共分为4个步骤
  - 创建项目
  - 创建文件
  - 编写代码
  - 运行程序

#### 1.1.1 创建项目

本文档以VS2022版本为演示

1. 在起始页面选择`创建新项目`

![image-20240320000832354](./%E9%BB%91%E9%A9%AC%E7%A8%8B%E5%BA%8F%E5%91%98C++.assets/image-20240320000832354.png)

2. 选择`C++语言`,`Windows平台`,选择`空项目`,点击`下一步`

![image-20240320000446533](./%E9%BB%91%E9%A9%AC%E7%A8%8B%E5%BA%8F%E5%91%98C++.assets/image-20240320000446533.png)

3. 输入`项目名称`,选择`项目位置`,点击`创建`

![image-20240320000922225](./%E9%BB%91%E9%A9%AC%E7%A8%8B%E5%BA%8F%E5%91%98C++.assets/image-20240320000922225.png)

#### 1.1.2 创建文件

1. 右击`项目名称`,选择`生成-->新建项`

![image-20240320001105466](./%E9%BB%91%E9%A9%AC%E7%A8%8B%E5%BA%8F%E5%91%98C++.assets/image-20240320001105466.png)

2. 输入`文件名`,选择`创建`

![image-20240320001230981](./%E9%BB%91%E9%A9%AC%E7%A8%8B%E5%BA%8F%E5%91%98C++.assets/image-20240320001230981.png)

#### 1.1.3 编写代码

```c++
// 第一个C++程序
#include <iostream>
using namespace std;

/*
 main是一个程序的入口
 每个程序都必须有且仅有一个人main函数
*/
int main()
{
	cout << "Hello World!" << endl;

	system("pause");

	return 0;
}
```



#### 1.1.4 运行程序

以VS2022版本为演示运行程序的过程

![image-20240320001752001](./%E9%BB%91%E9%A9%AC%E7%A8%8B%E5%BA%8F%E5%91%98C++.assets/image-20240320001752001.png)

#### 1.1.5 VS2022常用快捷键

| 功能                        | 快捷键            |
| --------------------------- | ----------------- |
| 调试运行         | F5      |
| 直接执行(不调试) | Ctrl+F5 |
| 停止调试                    | Shift+F5          |
| 单步调试                    | F10               |
| 逐过程调试                  | F11               |
| 调试时运行到光标处          | Ctrl+F10          |
| 重构 - 重命名               | Ctrl+R, Ctrl+R    |
| 切换注释                    | Ctrl+K, Ctrl+C    |
| 取消注释                    | Ctrl+K, Ctrl+U    |
| 一键格式化代码 | Ctrl+K, Ctrl+F 					|

| 功能         | 快捷键       |
| ------------ | ------------ |
| 全局搜索     | Ctrl+Shift+F |
| 查找所有引用 | Shift+F12    |
| 打开代码定义                | F12               |
| 关闭当前文档                | Ctrl+F4           |
| 到光标上一个位置 | Ctrl+- |
| 到光标下一个位置 | Ctrl+Shift+- |
| 切换头/源文件 | Ctrl+K, Ctrl+O |
| 速览声明/定义 | Ctrl+K, Ctrl+J |


| 功能                        | 快捷键            |
| --------------------------- | ----------------- |
| 重构 - 提取方法             | Ctrl+R, Ctrl+M    |
| 重构 - 提取接口             | Ctrl+R, Ctrl+I    |
| 重构 - 提取类               | Ctrl+R, Ctrl+E    |
| 重构 - 检查命名             | Ctrl+R, Ctrl+N    |

| 功能                        | 快捷键            |
| --------------------------- | ----------------- |
| 新建项目                    | Ctrl+Shift+N      |
| 打开项目或文件              | Ctrl+O            |
| 保存                        | Ctrl+S            |
| 重做                        | Ctrl+Y            |
| 撤销                        | Ctrl+Z            |


| 功能                        | 快捷键            |
| --------------------------- | ----------------- |
| 切换全屏模式                | Alt+Shift+Enter   |
| 显示智能提示                | Ctrl+空格         |

| 功能                        | 快捷键            |
| --------------------------- | ----------------- |
| 打开解决方案资源管理器      | Ctrl+Alt+L        |
| 打开/关闭解决方案资源管理器 | Ctrl+Alt+L        |
| 调试窗口切换                | Ctrl+Alt+I        |
| 显示调试快捷菜单            | Ctrl+Alt+NumPad 1 |
| 显示/隐藏错误列表窗口       | Ctrl+\, E         |
| 显示/隐藏输出窗口           | Ctrl+\, O         |
| 显示/隐藏属性窗口           | F4                |
| 显示/隐藏工具箱             | Ctrl+Alt+X        |
| 显示/隐藏搜索结果窗口       | Ctrl+\, S         |
| 显示/隐藏团队资源管理器     | Ctrl+\, G         |
| 显示/隐藏团队资源管理器     | Ctrl+\, G         |

这些快捷键可以帮助您提高在 Visual Studio 中的工作效率。

### 1.2 注释

- 作用：在代码中加一些说明和解释，方便自己或其他程序员阅读代码。
- 注释的两种格式：
  1. 单行注释：`// 描述内容`
     - 通常放在一行代码的上方，或者一条语句的末尾，对该行代码进行说明。
  2. 多行注释：`/* 描述信息 */`
     - 通常放在一段代码的上方，对该段代码做整体说明。
- 提示：编译器在编译代码时，会忽略注释的内容。

```cpp
// 示例：
// 这是一个单行注释
int x = 5; // 这也是一个单行注释，对变量赋值进行说明

/*
这是一个多行注释的示例。
这里可以写更多的说明信息，对一段代码进行整体描述。
*/
```

**补充**：在注释中，除了对代码进行说明外，有时也可以记录一些相关的信息，比如作者、日期、修改历史等。这些信息有助于代码的维护和管理。

### 1.3 变量

- 作用：给一段指定的内存空间起名。
- 语法：`数据类型 变量名 = 初始值;`
- 变量存在的意义：方便管理这段内存。

```c++
// 示例：
int num = 10; // 声明一个整型变量 num，并初始化为 10
float pi = 3.14; // 声明一个浮点型变量 pi，并初始化为 3.14
char letter = 'A'; // 声明一个字符型变量 letter，并初始化为 'A'
```

### 1.4 常量

- 作用：用于记录程序中`不可更改的数值`。
- C++定义常量有两种方式：
  1. #define 宏常量：`#define 常量名 常量值`
     - 通常在文件的开头定义，表示一个常量。
  2. 使用 const 修饰的变量：`const 数据类型 常量名 = 常量值`
     - 通常在变量定义前加关键字 const，修饰该变量为常量，不可修改。

- 推荐使用 const 定义的常量：
  - const 常量拥有`类型安全性`，可以进行类型检查，而宏常量则无法进行类型检查。
  - const 常量`具有作用域`，可以避免宏常量可能带来的命名冲突。
  - const 常量会`被编译器放入符号表中`，有助于调试和程序的可读性。

```cpp
// 示例：
#define PI 3.14159 // 定义一个宏常量 PI

const int MAX_SIZE = 100; // 定义一个 const 常量 MAX_SIZE

int main() {
    // 使用常量
    int radius = 5;
    double circleArea = PI * radius * radius; // 使用宏常量计算圆的面积
    int arr[MAX_SIZE]; // 使用 const 常量定义数组的大小
    // 其他代码
    
    // 错误示例
    PI = 3;
    MAX_SIZE = 1000;
    // 上面的操作是错误的,因为常量不可更改,一旦修改就会报错
    return 0;
}
```

注意：在 C++ 中，推荐使用 const 关键字定义常量，因为它具有更多的优势和安全性。

### 1.5 关键字

- 作用：关键字是编程语言中预先定义好的具有特殊含义的单词，用于实现语法规则和控制程序的行为。
- 注意：在定义变量或常量时，不要使用关键字，否则会导致编译错误或语义混淆。

C++关键字如下：

下面是一个简单的C++关键字表格：

| 关键字      | 描述                         |
| ----------- | ---------------------------- |
| auto        | 声明自动变量                 |
| break       | 跳出当前循环或switch语句     |
| case        | switch语句中的分支标签       |
| char        | 字符型数据类型               |
| class       | 定义类                       |
| const       | 声明常量                     |
| continue    | 继续下一次循环迭代           |
| default     | switch语句中的默认标签       |
| delete      | 释放由new创建的对象或数组    |
| do          | 循环语句                     |
| double      | 双精度浮点数数据类型         |
| else        | 条件语句中的其他选择         |
| enum        | 枚举类型                     |
| explicit    | 禁止编译器执行自动类型转换   |
| extern      | 声明外部变量或函数           |
| false       | 布尔类型的假值               |
| float       | 单精度浮点数数据类型         |
| for         | 循环语句                     |
| friend      | 友元函数或友元类             |
| goto        | 转移到指定标签位置           |
| if          | 条件语句                     |
| inline      | 内联函数                     |
| int         | 整数数据类型                 |
| long        | 长整数数据类型               |
| mutable     | 可变数据成员                 |
| namespace   | 命名空间                     |
| new         | 分配动态内存                 |
| operator    | 重载运算符                   |
| private     | 类的私有成员                 |
| protected   | 类的受保护成员               |
| public      | 类的公共成员                 |
| register    | 声明寄存器变量               |
| return      | 返回函数值或结束函数执行     |
| short       | 短整数数据类型               |
| signed      | 有符号整数数据类型           |
| sizeof      | 返回对象或类型的字节大小     |
| static      | 声明静态变量                 |
| static_cast | 执行静态类型转换             |
| struct      | 定义结构类型                 |
| switch      | 开关语句                     |
| template    | 模板                         |
| this        | 指向当前对象的指针           |
| throw       | 抛出异常                     |
| true        | 布尔类型的真值               |
| try         | 尝试执行代码块，捕获异常     |
| typedef     | 定义类型别名                 |
| typeid      | 返回对象的类型信息           |
| typename    | 指定类型名称                 |
| union       | 联合类型                     |
| unsigned    | 无符号整数数据类型           |
| using       | 使用指定的命名空间或标识符   |
| virtual     | 虚函数关键字                 |
| void        | 没有返回值或无参数的函数类型 |
| volatile    | 指示变量可能在程序外部改变   |
| wchar_t     | 宽字符型数据类型             |
| while       | 循环语句                     |

这些关键字在 C++ 中具有特殊含义，用于实现语言的各种功能和特性。在编写代码时，需要避免将这些关键字用作变量名或其他标识符。

### 1.6 标识符命名规则

标识符命名规则是编程中的基本规范，确保代码的可读性和可维护性。以下是一些常见的标识符命名规则：

- **作用**：C++规定在给标识符（如变量、常量）命名时必须遵循一定的规则，这些规则有助于确保代码的清晰易懂。

- **约定**：
  - 标识符不能是关键字。
  - 标识符只能由字母、数字、下划线组成。
  - 第一个字符必须为字母或下划线。
  - 标识符中的字母区分大小写。

- **建议**：在命名标识符时，建议遵循以下几点：

  - **类名**：采用驼峰命名法，首字母大写，其后每个英文单词的第一个字母大写，其他小写。类名通常是名词，用于描述一个对象或实体的抽象概念。例如 UserInfo、Calculator、DatabaseConnection。
  
  - **变量名**：采用驼峰命名法，首字母小写，其后每个英文单词的第一个字母大写，其他小写。通常使用“名词”或“形容词+名词”的格式。例如 `userName`、`totalAmount`、`isInitialized`。
  
  - **函数名**：采用驼峰命名法，首字母小写，其后每个英文单词的第一个字母大写，其他小写。函数名通常是动词或动词短语，用于描述函数所执行的操作。例如 calculateTotal()、displayMessage()、isValidInput()。
  
  - **常量名**：使用大写字母和下划线表示常量，常量名应具有明确的含义，尽量简洁清晰。例如 `MAX_VALUE`、`PI`、`ERROR_MESSAGE`。
  
  - **全局变量**：在变量名前加上 `g_` 前缀，以便与局部变量区分开。例如 `g_userName`、`g_totalAmount`。
  
  - **静态变量**：在变量名前加上 `s_` 前缀，以便与非静态变量区分开。例如 `s_instanceCount`、`s_maxValue`。
  
  - **成员变量**：在变量名前加上 `m_` 前缀，以便与局部变量或全局变量区分开。例如 `m_age`、`m_salary`。
  
  - **枚举值**：使用大写字母和下划线表示枚举值，具有清晰的含义，以提高可读性。例如 `SUCCESS`、`FAILURE`、`STATUS_OK`。
  

通过遵循这些命名规范，可以使代码更易读、易理解，提高代码的可维护性和可扩展性。

## 第2章 数据类型

**数据类型存在意义**：给变量分配合适的内存空间，C++规定在创建一个变量或者常量时，必须要指定出相应的放据类型，否则无法给变量分配内存。

### 2.1 整型类型

- 作用：整型变量表示的是整数类型的数据

- C++中能够表示整型的类型有以下几种方式，区别在于所占内存空间不同：

  - | 数据类型              | 占用空间                                                     | 取值范围                 |
    | --------------------- | ------------------------------------------------------------ | ------------------------ |
    | short（短整型）       | 2字节                                                        | $-2^{15} \sim 2^{15} -1$ |
    | int（整型）           | 4字节                                                        | $-2^{31} \sim 2^{31} -1$ |
    | long（长整型）        | Windows为4字节<br />Linux（32位）为4字节<br />Linux（64位）为8字节 | $-2^{31} \sim 2^{31} -1$ |
    | long long（长长整型） | 8字节                                                        | $-2^{63} \sim 2^{63} -1$ |

```cpp
#include <iostream>
#include <string>

using namespace std;

int main()
{
	// 整型(-32768~32767)
	// 1、短整型
	short a = 10;
	//short int a = 32768; // 32768超出了short int的范围,会报错
	// 2、整型(-2^31~2^31-1)
	int b = 10;
	// 3、长整型(-2^63~2^63-1)
	 long c = 10;
	// 4、长长整型(-2^63~2^63-1)
	 long long d = 10;


	 cout << "a = " << a << endl;
	 cout << "b = " << b << endl;
	 cout << "c = " << c << endl;
	 cout << "d = " << d << endl;

	 return 0;
}
```



### 2.2 sizeof关键字

- 作用：利用sizeof关键字可以统计数据类型所占内存大小。
- 语法：sizeof(数据类型/变量)。

```c++
#include <iostream>
using namespace std;

int main()
{
	// sizeof关键字学习

	// 已知: 
	//  short类型占2个字节, int类型占4个字节, 
	// long类型占4个字节, long long类型占8个字节

	// sizeof关键字用于获取数据类型或变量的大小
	cout << "sizeof(short) = " << sizeof(short) << endl;
	cout << "sizeof(int) = " << sizeof(int) << endl;
	cout << "sizeof(long) = " << sizeof(long) << endl;
	cout << "sizeof(long long) = " << sizeof(long long) << endl;

	// 整型变量大小比较
	// short < int <= long <= long long

	return 0;
}
```

### 2.3 实型(浮点型)

- 作用：用以表示小数

- 浮点型变量分为两种：

  - 单精度float
  - 双精度double

- 两者的区别在于表示的有效数字范围不同

  - **有效数字**：指数部分和尾数部分的数字总和，用来衡量数据的精确度和可靠性。

  - | 数据类型 | 占用空间 | 有效数字范围 |
    | -------- | -------- | ------------ |
    | float    | 4字节    | 7位有效数字 |
    | double   | 8字节    | 15~16位有效数字 |

有效数字是指数字中能够表达出来并且对结果有贡献的部分。例如，对于圆周率π ≈ 3.14159，有效数字就是314159，因为这些数字反映了π的精确度和可靠性。

```c++
#include <iostream>

using namespace std;

int main()
{
	/*数据类型——实型练习*/

	//1、单精度浮点型——float
	float f = 3.14f;//f表示单精度浮点型，不加f默认为double

	//2、双精度浮点型——double
	double d = 3.14;

	//3、长双精度浮点型——long double
	long double ld = 3.14;

	//4、科学计数法
	float f1 = 3e2;//代表3*10^2
	float f2 = 3e-2;//代表3*10^-2
	double d1 = 3e8;//代表3*10^8

	//输出
	cout<< "单精度浮点型f："<< f << endl;
	cout<< "双精度浮点型d："<< d << endl;
	cout<< "长双精度浮点型ld："<< ld << endl;
	cout<< "科学计数法f1："<< f1 << endl;//输出300
	cout<< "科学计数法f2："<< f2 << endl;//输出0.03
	cout<< "科学计数法d1："<< d1 << endl;//因为C++ 的输出默认使用科学计数法来显示大数字，所以输出3e+08
	cout<< "科学计数法d1："<< fixed << d1 << endl;//使用fixed来取消科学计数法，输出300000000


	//查看数据类型占用内存空间
	cout << "float占用内存空间：" << sizeof(float) << "字节" << endl;
	cout << "double占用内存空间：" << sizeof(double) << "字节" << endl;
	// Notes：长双精度浮点型是双精度浮点型的扩展，精度更高，占用内存更大，通常占用不小于8个字节
	cout << "long double占用内存空间：" << sizeof(long double) << "字节" << endl;

	return 0;
}
```

### 2.4 字符型

- 作用：字符型变量用于显示单个字符
- 语法：`char ch = '单个字符';`
- 注意
  - 在显示字符型变量时，用`单引号`将字符括起来，不要用双引号
  - 单引号内只能`有一个字符`，不可以是字符串
- C和C++中字符型变量只占用`1个字节`
- 字符型变量并不是把字符本身放到内存中存储，而是`将对应的ASCII编码放入到存储单元`

```c++
#include <iostream>		// C++标准输入输出库,在C++中常用cin和cout进行输入输出
#include <cstdio>		// C标准输入输出库,在C语言中常用scanf和printf进行输入输出
using namespace std;

// 清空输入缓冲区的跨平台方法
void clearInputBuffer() {
	// 清空输入缓冲区,避免输入缓冲区中的字符对后续的输入操作产生影响
	int c,count=0;
	while ((c = getchar()) != '\n' && c != EOF) // 当输入缓冲区中还有字符时
	{
		count++;
	}
	cout << "清空了" << count << "个字符" << endl;
}

int main()
{
	// 本代码用于演示字符型数据类型的使用

	// 1.字符型变量的创建方式
	char ch = 'A';
	cout << ch << endl;

	// 2.字符型变量所占内存大小
	cout << "sizeof(char) = " << sizeof(char) << endl; 

	// 3.字符型变量常见错误
	// char ch1 = "A"; // 错误，双引号表示字符串，单引号表示字符,创建字符型变量时只能用单引号
	// char ch2 = 'AB'; // 错误，单引号内只能有一个字符

	// 4.常见字符型变量对应的ASCII码值
	char ch3 = 'A';
	cout << ch3 << "=" << (int)ch3 << endl; // 65
	char ch4 = 'a';
	cout << ch4 << "=" << (int)ch4 << endl; // 97
	char ch5 = '0';
	cout << ch5 << "=" << (int)ch5 << endl; // 48

	// 5.字符型变量的输入:C++中的字符型变量可以通过cin进行输入
	char ch6;
	cout << "请输入一个字符：" << endl;
	cin >> ch6;
	cout << "您输入的字符是：" << ch6 << "它的ASCII码值是：" << (int)ch6 << endl;
	
	clearInputBuffer(); // 清空输入缓冲区

	// 6.字符型变量的输入:C语言中的字符型变量可以通过scanf进行输入
	 char ch7;
	 printf("请输入一个字符：\n");
	 fflush(stdin); // 清空输入缓冲区
	 //scanf("%c", &ch7); // scanf函数已经被淘汰，该语句在高版本的VS中可能会出现问题,建议使用scanf_s
	 scanf_s("%c", &ch7,1);
	 printf("您输入的字符是：%c 它的ASCII码值是：%d\n", ch7, ch7);

	return 0;
}
```

